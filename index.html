<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ramadhan World: Your All-in-One Islamic Companion</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Your complete Islamic companion. Get accurate prayer times (Salah), use the Qibla finder, listen to the Quran, use the Tasbeeh counter, and get answers from our Ask Islam AI assistant.">
<meta name="keywords" content="islamic app, prayer times, salah, quran, qibla, tasbeeh, ramadan, hijri calendar, islamic radio, muslim, adhan, azan, asma-ul-husna, hadith, weather, ask islam, islamic qa, ai islam, qibla finder online, muslim prayer app, islamic calendar 2025, live quran radio, online tasbeeh counter">
<meta name="author" content="Ramadhan World Team">
<meta name="robots" content="index, follow">
<meta name="theme-color" content="#0a192f">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Ramadhan World">
<meta name="application-name" content="Ramadhan World">
<link rel="canonical" href="https://www.ramadhanworld.com">
<link rel="icon" href="https://i.ibb.co/Zp0bgjsS/ART-WORKS-1.png" type="image/png">
<link rel="apple-touch-icon" href="https://i.ibb.co/Zp0bgjsS/ART-WORKS-1.png">
<meta property="og:type" content="website">
<meta property="og:title" content="Ramadhan World - Your Daily Islamic Companion">
<meta property="og:description" content="All-in-one Islamic web app with Prayer Times, Qibla, Quran, Tasbeeh counter, and an AI assistant to answer your questions.">
<meta property="og:image" content="https://i.ibb.co/Zp0bgjsS/ART-WORKS-1.png">
<meta property="og:url" content="https://www.ramadhanworld.com">
<meta property="og:site_name" content="Ramadhan World">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:title" content="Ramadhan World - Your Daily Islamic Companion">
<meta property="twitter:description" content="All-in-one Islamic web app with Prayer Times, Qibla, Quran, Tasbeeh counter, and an AI assistant to answer your questions.">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://api.aladhan.com">
<link rel="preconnect" href="https://api.quran.com">
<link rel="preconnect" href="https://api.open-meteo.com">
<link rel="preconnect" href="https://api.alquran.cloud">
<link rel="preconnect" href="https://hadithapi.com">
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q3PR0133TR"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-Q3PR0133TR');</script>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Amiri:wght@400;700&display=swap" media="print" onload="this.media='all'">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
<noscript>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Amiri:wght@400;700&display=swap">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</noscript>
<style>.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}body{font-family:'Cairo','Inter',sans-serif;-webkit-tap-highlight-color:transparent;background:linear-gradient(to bottom,#0a192f,#113a3b);color:#e6f1ff;touch-action:manipulation;-ms-touch-action:manipulation;-webkit-user-select:none;user-select:none}button{-webkit-tap-highlight-color:transparent;touch-action:manipulation}[id$=-view]{content-visibility:auto;contain:layout style}#tasbeeh-increment-btn{-webkit-user-select:none;user-select:none;touch-action:manipulation;-webkit-tap-highlight-color:transparent;outline:none}.font-amiri{font-family:'Amiri',serif}.card{background-color:rgba(10,25,47,.85);backdrop-filter:blur(10px);border:1px solid rgba(57,255,20,.2);box-shadow:0 8px 32px 0 rgba(0,0,0,.37);transition:background .5s ease-in-out,transform .3s ease;position:relative;overflow:hidden;border-radius:.75rem}.card:hover{transform:translateY(-5px)}#countdown-heading{font-weight:700;color:#fff;text-shadow:0 0 5px #39FF14,0 0 10px #39FF14}#countdown-timer{font-weight:700;font-size:3.5rem;color:#fff;text-shadow:0 0 8px #39FF14,0 0 16px #39FF14,0 0 28px #39FF14,0 0 40px #39FF14;letter-spacing:.05em}#next-prayer-name{color:#39FF14;font-weight:700}.prayer-time.active{background:linear-gradient(90deg,rgba(57,255,20,.3),rgba(57,255,20,.1));border-left-width:4px;border-color:#39FF14;transition:background-color .3s ease,border-color .3s ease}.nav-button.active{background-color:#39FF14;color:#0a192f;font-weight:700;box-shadow:0 4px 14px rgba(57,255,20,.4)}.nav-button:hover{background-color:rgba(57,255,20,.8);color:#000}#qibla-line{background-color:#39FF14;box-shadow:0 0 10px rgba(57,255,20,.7)}.section-title{font-family:'Cairo',sans-serif;font-weight:700;font-size:1.875rem;text-align:center;margin-bottom:1.5rem;color:#fff;text-shadow:0 0 5px #39FF14,0 0 10px #39FF14}#quran-player-container{background-color:rgba(17,58,59,.5);border:1px solid rgba(57,255,20,.3);border-radius:1rem;padding:1rem;margin-bottom:1.5rem}#current-surah-name{color:#fff;text-shadow:0 0 3px #39FF14}.quran-surah{cursor:pointer;padding:.75rem;border-radius:.5rem;transition:background-color .2s ease,transform .2s ease}.quran-surah:hover{background-color:rgba(57,255,20,.2);transform:translateX(5px)}.quran-surah.playing{background-color:rgba(57,255,20,.3);border-left:4px solid #39FF14}.quran-surah.playing .surah-name{color:#39FF14;font-weight:700}.play-pause-icon{color:#39FF14;font-size:1.25rem}#daily-islamic-message{color:#39FF14;text-shadow:0 0 5px rgba(57,255,20,.7)}#daily-islamic-message-ref{color:#a7f3d0;font-style:italic}.hadith-box{border:1px solid rgba(57,255,20,.3);background:transparent;padding:1.5rem;border-radius:1rem}#home-radio-audio-player{border-radius:50px;box-shadow:0 0 8px #39FF14,0 0 12px #39FF14;transition:box-shadow .3s ease}.video-container{position:relative;width:100%;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:.75rem;max-width:960px;margin:auto}.video-container iframe{position:absolute;top:0;left:0;width:100%;height:100%}#compass{position:relative;width:256px;height:256px;background-color:#1f2937;border-radius:9999px;border:4px solid #374151;display:flex;align-items:center;justify-content:center;margin:2rem auto;transition:transform .2s linear}.direction{position:absolute;font-weight:700;color:#9ca3af}.direction.north{top:10px;font-size:1.5rem;color:#ef4444}.direction.south{bottom:10px}.direction.east{right:10px}.direction.west{left:10px}#hadith-content-home p{font-size:1.125rem;line-height:1.75;color:#d1d5db}.calendar-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem}.calendar-item{background:rgba(17,58,59,.4);border:1px solid rgba(57,255,20,.3)}.calendar-item:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,.25)}.calendar-date{font-family:'Amiri',serif;font-size:1.25rem;font-weight:700;color:#0a192f;background-color:#39FF14;padding:.25rem .75rem;border-radius:9999px;display:inline-block;margin-bottom:.75rem}.calendar-event-name{font-size:1.5rem;font-weight:600;color:#a7f3d0;margin-bottom:.5rem}.calendar-event-desc{font-size:1rem;color:#d1d5db;flex-grow:1}.gregorian-date{font-size:.9rem;color:#9ca3af;margin-top:1rem;border-top:1px solid rgba(255,255,255,.1);padding-top:.75rem}.star{position:absolute;background-color:#fff;border-radius:50%;animation:twinkle 5s infinite;z-index:1;box-shadow:0 0 5px #fff}.planet{position:absolute;border-radius:50%;z-index:1;transition:left .1s linear}@keyframes twinkle{0%,100%{opacity:.7}50%{opacity:.2}}#sun{width:50px;height:50px;background-color:#f0e68c;border-radius:50%;box-shadow:0 0 20px #f0e68c;transition:top .1s linear,left .1s linear}#moon{width:50px;height:50px;background-color:#f4f4f4;border-radius:50%;box-shadow:0 0 20px #f4f4f4,inset -10px 2px 0 0 #d0d0d0;transition:top .1s linear,left .1s linear}#tasbeeh-counter-display{transition:transform .2s ease;text-shadow:0 0 10px rgba(57,255,20,.5)}#tasbeeh-increment-btn{background:linear-gradient(145deg,#3cf01e,#32c919);box-shadow:5px 5px 10px #2a9f14,-5px -5px 10px #48ff28}#tasbeeh-increment-btn:active{background:#39FF14;transform:scale(.95);box-shadow:inset 5px 5px 10px #2a9f14,inset -5px -5px 10px #48ff28}.settings-select{background-color:#1f2937;border:1px solid #374151;color:#fff;padding:.5rem;border-radius:.5rem;width:100%}#salah-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:100;padding:2rem;text-align:center;border-radius:1rem;transition:opacity .3s,transform .3s;background:rgba(10,25,47,.9);border:1px solid #39FF14}.info-buttons a{background-color:rgba(57,255,20,.1);border:1px solid rgba(57,255,20,.3);color:#a7f3d0;padding:8px 16px;border-radius:20px;text-decoration:none;transition:all .3s ease;margin:0 5px}.info-buttons a:hover{background-color:rgba(57,255,20,.3);color:#fff;box-shadow:0 0 10px rgba(57,255,20,.5)}@media screen and (max-width:480px){#countdown-timer{font-size:3rem}#tasbeeh-counter-display{font-size:3.75rem}.nav-button{padding:.5rem .75rem;font-size:.9rem}h1{font-size:2.5rem}}@media screen and (max-width:360px){#countdown-timer{font-size:2.8rem}h1{font-size:2rem}}.ticker-container{overflow:hidden;padding:1rem 0;background:linear-gradient(90deg,rgba(12,28,50,.9) 0,rgba(17,58,59,.9) 50%,rgba(12,28,50,.9) 100%);white-space:nowrap;box-shadow:0 4px 15px rgba(0,0,0,.2);border-radius:.75rem;border:1px solid rgba(57,255,20,.2)}.ticker-content{display:inline-block;padding-left:100%;will-change:transform}.ticker-item{display:inline-flex;flex-direction:column;align-items:center;margin:0 2.5rem;vertical-align:middle}.arabic-name{font-family:'Amiri',serif;font-size:2.5rem;color:#39FF14;text-shadow:0 0 8px rgba(57,255,20,.7);margin-bottom:4px}.english-translation{font-size:.7rem;color:#a7f3d0;margin-top:4px;text-transform:uppercase;letter-spacing:.5px}@keyframes ticker-scroll{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}.scroller-container{height:400px;overflow:hidden;position:relative;padding:0}.scroller-container:after,.scroller-container:before{content:'';position:absolute;left:0;right:0;height:3rem;z-index:2}.scroller-container:before{top:0;background:linear-gradient(to bottom,#0a192f 0,rgba(10,25,47,0) 100%)}.scroller-container:after{bottom:0;background:linear-gradient(to top,#0a192f 0,rgba(10,25,47,0) 100%)}.scroller-content{will-change:transform;padding:3rem 1.5rem}.scroller-content:hover{animation-play-state:paused}@keyframes v-scroll{0%{transform:translateY(0)}100%{transform:translateY(-100%)}}.scroll-item{margin-bottom:2.5rem;padding:1rem;border-left:4px solid #39FF14;background:rgba(17,58,59,.3);border-radius:0 .5rem .5rem 0}.scroll-item h3{font-size:1.2rem;color:#a7f3d0;margin-bottom:.5rem;font-weight:700}.scroll-item p{font-family:'Amiri',serif;font-size:1.1rem;color:#e6f1ff;line-height:1.8}.ad-container-bottom{margin-top:1.5rem;padding-top:1.5rem;border-top:1px dashed rgba(57,255,20,.3);text-align:center}:root{--primary-dark:#0a192f;--secondary-dark:#113a3b;--accent-green:#39FF14;--text-light:#e6f1ff;--text-muted:#a7f3d0;--card-bg:rgba(10,25,47,.85);--card-border:rgba(57,255,20,.2)}.chat-container{flex:1;overflow-y:auto;padding:1rem;padding-bottom:9rem}.message{max-width:80%;padding:.75rem 1rem;border-radius:.75rem;margin-bottom:.75rem;box-shadow:0 4px 15px rgba(0,0,0,.2);opacity:0;transform:translateY(20px);animation:slide-in .3s forwards}@keyframes slide-in{to{opacity:1;transform:translateY(0)}}.user-message{background-color:var(--secondary-dark);color:var(--text-light);border-radius:.75rem .75rem 0 .75rem;align-self:flex-end;border:1px solid var(--card-border)}.ai-message{background-color:var(--card-bg);color:var(--text-light);border-radius:.75rem .75rem .75rem 0;align-self:flex-start;border:1px solid var(--card-border)}.ai-message p{white-space:pre-wrap;font-family:'Amiri',serif;font-size:1.1rem;line-height:1.8}.input-bar{background:rgba(10,25,47,.8);backdrop-filter:blur(10px);border-top:1px solid var(--card-border)}.chat-input{background-color:#1f2937;border:1px solid #374151;color:#fff;border-radius:9999px;padding:.65rem 1rem;transition:all .2s ease}.chat-input:focus{outline:none;border-color:var(--accent-green);box-shadow:0 0 0 2px rgba(57,255,20,.5)}.control-button{background-color:var(--accent-green);color:var(--primary-dark);border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;box-shadow:0 4px 14px rgba(57,255,20,.4)}.control-button:hover{transform:scale(1.1)}.control-button:disabled{opacity:.5;cursor:not-allowed;transform:scale(1);box-shadow:none}.mic-button{background-color:#374151;color:#fff}.mic-button.recording{background-color:#ef4444;animation:pulse 1.5s infinite}@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(239,68,68,.7)}70%{box-shadow:0 0 0 10px rgba(239,68,68,0)}100%{box-shadow:0 0 0 0 rgba(239,68,68,0)}}.loading-dots .dot{width:8px;height:8px;background-color:var(--text-muted);border-radius:50%;animation:bounce 1.4s infinite ease-in-out both}.loading-dots .dot:nth-child(1){animation-delay:-.32s}.loading-dots .dot:nth-child(2){animation-delay:-.16s}@keyframes bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}.audio-player-button{padding:.5rem;background-color:var(--accent-green);color:var(--primary-dark);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(57,255,20,.3);cursor:pointer;transition:transform .2s}.audio-player-button:hover{transform:scale(1.1)}.audio-generating-spinner{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.arabic-text{direction:rtl;unicode-bidi:embed;text-align:right;text-decoration:underline;text-decoration-color:var(--accent-green);text-underline-offset:4px}</style>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"SoftwareApplication","name":"Ramadhan World","applicationCategory":"LifestyleApplication","operatingSystem":"Web","description":"Your daily Islamic companion for prayer times (Salah), Qibla direction, Quran recitation, Tasbeeh counter, Hijri calendar, and an AI assistant for Islamic questions.","keywords":"islamic app, prayer times, salah, quran, qibla, tasbeeh, ramadan, hijri calendar, islamic radio, muslim, adhan, azan, asma-ul-husna, hadith, ask islam, islamic qa, ai islam, qibla finder, muslim prayer app","offers":{"@type":"Offer","price":"0"},"aggregateRating":{"@type":"AggregateRating","ratingValue":"4.9","reviewCount":"600"},"image":"https://i.ibb.co/Zp0bgjsS/ART-WORKS-1.png","url":"https://www.ramadhanworld.com","hasPart":[{"@type":"WebAPI","name":"Salah Times","description":"Provides daily Islamic prayer times (Fajr, Dhuhr, Asr, Maghrib, Isha) based on user's location."},{"@type":"WebAPI","name":"Qibla Finder","description":"Online compass to find the direction of the Kaaba in Mecca for Muslim prayers."},{"@type":"SoftwareApplication","name":"Quran Player","description":"Listen to Holy Quran recitations with a built-in audio player."},{"@type":"SoftwareApplication","name":"Tasbeeh Counter","description":"A digital counter for Dhikr and Tasbeeh."},{"@type":"WebAPI","name":"Islamic Calendar","description":"View the Hijri calendar and major Islamic events for the year."},{"@type":"SoftwareApplication","name":"Ask Islam AI Assistant","description":"An AI-powered chat assistant to answer questions about Islam based on authentic sources."},{"@type":"SoftwareApplication","name":"Islamic Radio","description":"Live streaming of Islamic content 24/7."}]}</script>
</head>
<body class="bg-gray-900 text-white"><div id="loading-screen" class="fixed inset-0 bg-gray-900 flex flex-col justify-center items-center z-50 transition-opacity duration-300"><h1 class="text-4xl sm:text-5xl font-extrabold" style="color:#39FF14">RAMADHAN WORLD</h1></div><div id="main-content" class="min-h-screen container mx-auto p-4 sm:p-6 lg:p-8 opacity-0 transition-opacity duration-1000"><header class="text-center mb-6"><img id="app-logo" src="https://i.ibb.co/Zp0bgjsS/ART-WORKS-1.png" alt="Ramadhan World App Logo" class="w-[200px] h-[200px] mx-auto mb-4 rounded-full shadow-lg object-contain" decoding="async"><h1 class="text-4xl sm:text-5xl font-extrabold" style="color:#39FF14">Ramadhan World</h1><p id="islamic-date" class="text-lg text-gray-300 mt-2">Loading Islamic Date...</p><p id="location" class="text-md text-gray-400 mt-1">Fetching location...</p></header><nav class="flex justify-center gap-2 mb-6 flex-wrap items-center"><button onclick="showView('home')" class="nav-button active px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Go to Home page">🏠 Home</button><button onclick="showView('salah')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="View Salah times">🕌 Salah</button><button onclick="showView('listenQuran')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Listen to the Quran">📖 Quran</button><button onclick="showView('radio')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Listen to Islamic Radio">📻 Radio</button><button onclick="showView('askIslam')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Ask Islam AI Assistant">💬 Ask Islam</button><button onclick="showView('tasbeeh')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Use the Tasbeeh counter">📿 Tasbeeh</button><button onclick="showView('hadith')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Read Hadith">📜 Hadith</button><button onclick="showView('naat')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Listen to Naat">🎵 Naat</button><button onclick="showView('qibla')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Find the Qibla direction">🧭 Qibla</button><button onclick="showView('calendar')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="View the Islamic Calendar">🗓️ Calendar</button><button onclick="showView('settings')" class="nav-button px-4 py-2 rounded-lg bg-gray-700 transition" aria-label="Open Settings">⚙️ Settings</button></nav><main><div id="home-view"><section id="countdown-section" class="my-8"><div class="card p-4 max-w-3xl mx-auto flex flex-col" style="transition:background 1s linear"><div id="celestial-visualization" class="relative flex-grow min-h-[120px] overflow-hidden rounded-t-lg"></div><div id="timer-info-container" class="text-center pt-3"><h2 id="countdown-heading" class="text-2xl sm:text-3xl">Time Until <span id="next-prayer-name">...</span></h2><div id="countdown-timer" class="tracking-wider my-1">00:00:00</div><div id="weather-display" class="text-white text-base" style="background:transparent;text-shadow:0 1px 3px rgba(0,0,0,.7)"><span id="weather-emoji" class="mr-2"></span><span id="weather-city">...</span> <span id="weather-temp">--°C</span></div></div></div></section><section id="ticker-section" class="mb-8 max-w-3xl mx-auto"><div class="ticker-container"><div id="ticker-content" class="ticker-content"></div></div></section><section id="daily-message-section" class="mb-8"><div class="card p-6 max-w-3xl mx-auto text-center"><p id="daily-islamic-message" class="text-2xl font-bold mb-2">"Indeed, in the remembrance of Allah do hearts find rest."</p><p id="daily-islamic-message-ref" class="text-lg">— Surah Ar-Ra'd (13:28)</p></div></section><section id="hadith-section-home" class="mb-8"><div class="card p-6 max-w-3xl mx-auto text-center"><div id="hadith-content-home"><div class="hadith-box"><h2 class="section-title mb-4">📖 Hadith for Today</h2><p class="font-amiri text-center text-xl">"The best among you are those who have the best manners and character."</p><p class="text-center text-base text-green-300 mt-4">Reference: Sahih al-Bukhari 3559</p></div></div></div></section><section class="text-center p-4 mt-[-1rem] mb-4"><div class="info-buttons"><a href="about.html">About</a><a href="privacy.html">Privacy Policy</a><a href="contact.html">Contact</a></div></section></div><div id="ask-islam-view" class="hidden"><div class="card p-0 flex flex-col" style="height:80vh;max-width:960px;margin:auto"><header class="p-4 shadow-lg z-10 text-white" style="background:linear-gradient(90deg,rgba(12,28,50,.9) 0,rgba(17,58,59,.9) 100%);border-bottom:1px solid var(--card-border);border-radius:.75rem .75rem 0 0"><h1 class="text-2xl font-bold text-center" style="color:var(--accent-green);text-shadow:0 0 8px rgba(57,255,20,.7)">Ask Islam</h1><p class="text-sm text-center opacity-90 text-gray-300">Your questions answered according to Islamic teachings.</p></header><main id="chat-container" class="chat-container flex flex-col space-y-4"><div id="welcome-message" class="text-center text-gray-400 mt-10"><i class="fas fa-moon text-4xl mb-2" style="color:var(--accent-green)"></i><p class="text-lg">Welcome! Ask me anything about Islam.</p></div></main><div class="p-3 sm:p-4 input-bar" style="border-top:1px solid var(--card-border);background:rgba(10,25,47,.9)"><div class="container mx-auto flex items-center space-x-2"><label for="chat-input" class="sr-only">Your Question</label><input type="text" id="chat-input" placeholder="Type your question..." class="flex-1 chat-input focus:outline-none"><button id="mic-button" class="control-button mic-button" aria-label="Start recording"><i class="fas fa-microphone"></i></button><button id="send-button" class="control-button" aria-label="Send message"><i class="fas fa-paper-plane"></i></button></div></div></div></div><div id="hadith-view" class="hidden"><section id="scrolling-content-section" class="mb-8"><h2 class="section-title">📜 Timeless Wisdom</h2><div class="scroller-container card max-w-3xl mx-auto"><div id="scroller-content" class="scroller-content"><div class="scroll-item"><h3>Loading Hadith...</h3><p>Please wait while we fetch inspirational hadiths for you.</p></div></div></div></section></div><div id="calendar-view" class="hidden"><section id="islamic-calendar-section"><div class="section-card"><h2 class="section-title">🗓️ Major Islamic Events</h2><div id="islamic-calendar-grid" class="calendar-grid"></div></div></section></div><div id="qibla-view" class="hidden text-center"><div class="card p-6 max-w-sm mx-auto"><h2 class="text-2xl font-semibold mb-4">🧭 Qibla Compass</h2><div id="compass"><div class="direction north">N</div><div class="direction east">E</div><div class="direction south">S</div><div class="direction west">W</div><div id="qibla-line" style="transform-origin:bottom center;position:absolute;width:4px;height:100px;top:28px;left:50%;transform:translateX(-50%)"><div style="width:100%;height:100%;background-color:#39FF14;box-shadow:0 0 10px rgba(57,255,20,.7);border-radius:2px"></div></div></div><p class="text-lg text-yellow-400 mt-4 font-bold">Advanced Qibla Compass – Coming Soon</p><p id="qibla-direction" class="mt-2 text-md text-gray-300">For accurate results, hold your device flat, away from any metals.</p><p class="text-sm text-gray-400 mt-2">(Accuracy depends on your device's hardware and browser support)</p></div></div><div id="radio-view" class="hidden"><div class="card p-6 max-w-2xl mx-auto text-center"><h2 class="section-title">📻 Live Islamic Radio</h2><audio id="home-radio-audio-player" controls playsinline class="w-full mb-6"></audio><p class="text-gray-400">Broadcasting live Islamic content 24/7.</p></div></div><div id="listen-quran-view" class="hidden"><div class="card p-6 max-w-4xl mx-auto"><h2 class="section-title">Holy Quran Recitation</h2><div id="quran-player-container"><h3 id="current-surah-name" class="text-xl font-bold mb-2 text-center">Select a Surah to Play</h3><audio id="quran-audio-player" controls class="w-full rounded-lg"></audio></div><div id="quran-surah-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto pr-2"></div></div></div><div id="salah-view" class="hidden"><div class="card p-6 max-w-2xl mx-auto"><h2 class="text-2xl font-semibold mb-4 text-center">Today's Times</h2><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"><div id="salah-fajr" class="prayer-time card rounded-xl p-4 flex justify-between items-center"><span class="font-semibold text-lg">Fajr</span><span class="text-xl font-mono">--:--</span></div><div id="salah-sunrise" class="prayer-time card rounded-xl p-4 flex justify-between items-center"><span class="font-semibold text-lg">Sunrise</span><span class="text-xl font-mono">--:--</span></div><div id="salah-dhuhr" class="prayer-time card rounded-xl p-4 flex justify-between items-center"><span class="font-semibold text-lg">Dhuhr</span><span class="text-xl font-mono">--:--</span></div><div id="salah-asr" class="prayer-time card rounded-xl p-4 flex justify-between items-center"><span class="font-semibold text-lg">Asr</span><span class="text-xl font-mono">--:--</span></div><div id="salah-maghrib" class="prayer-time card rounded-xl p-4 flex justify-between items-center"><span class="font-semibold text-lg">Maghrib</span><span class="text-xl font-mono">--:--</span></div><div id="salah-isha" class="prayer-time card rounded-xl p-4 flex justify-between items-center"><span class="font-semibold text-lg">Isha</span><span class="text-xl font-mono">--:--</span></div></div><hr class="border-gray-600 my-4"><div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"><div id="salah-sehri" class="card rounded-xl p-4 flex justify-between items-center bg-green-900 border-l-4 border-green-400"><span class="font-semibold text-lg">Sehri End</span><span class="text-xl font-mono">--:--</span></div><div id="salah-iftar" class="card rounded-2xl p-4 flex justify-between items-center bg-yellow-800 border-l-4 border-yellow-400"><span class="font-semibold text-lg">Iftar</span><span class="text-xl font-mono">--:--</span></div></div></div></div><div id="tasbeeh-view" class="hidden"><div class="card p-6 max-w-sm mx-auto text-center"><h2 class="text-2xl font-semibold mb-4">📿 Tasbeeh Counter 🕋</h2><div id="tasbeeh-counter-display" class="font-mono text-7xl font-bold text-green-400 mb-6">0</div><button id="tasbeeh-increment-btn" onclick="incrementTasbeeh()" class="w-48 h-48 rounded-full text-white text-5xl flex items-center justify-center mx-auto transform transition hover:scale-105 active:scale-95"><i class="fas fa-plus"></i></button><button onclick="resetTasbeeh()" class="mt-8 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition shadow-lg">Reset</button></div></div><div id="naat-view" class="hidden"><div class="card p-6 mx-auto text-center"><h2 class="text-2xl font-semibold mb-4">Naat Collection</h2><div class="video-container mb-4"><div id="youtube-player"></div></div><div class="flex justify-center gap-4 flex-wrap"><button onclick="previousVideo()" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full text-lg"><i class="fas fa-backward"></i></button><button id="tv-play-button" onclick="playVideo()" class="text-black font-bold py-2 px-4 rounded-full text-lg" style="background-color:#39FF14"><i class="fas fa-play"></i></button><button id="tv-pause-button" onclick="pauseVideo()" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full text-lg hidden"><i class="fas fa-pause"></i></button><button onclick="nextVideo()" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full text-lg"><i class="fas fa-forward"></i></button></div></div></div><div id="settings-view" class="hidden"><div class="card p-6 max-w-lg mx-auto"><h2 class="section-title">⚙️ App Settings</h2><div class="space-y-6"><div><label for="calculation-method-select" class="text-lg font-semibold text-green-400 mb-2 block">Salah Calculation Method</label><p class="text-sm text-gray-400 mb-2">Select the calculation authority for prayer times. Changes will apply on next refresh.</p><select id="calculation-method-select" class="settings-select"><option value="1">Muslim World League</option><option value="2" selected>ISNA (North America)</option><option value="3">Egyptian General Authority</option><option value="4">Umm Al-Qura, Makkah</option><option value="5">University of Islamic Sciences, Karachi</option></select></div><hr class="border-gray-700"><div><h3 class="text-lg font-semibold text-green-400 mb-2">Master Notification Control</h3><p class="text-sm text-gray-400 mb-2">Enable or disable all prayer time pop-up notifications.</p><button id="settings-notification-toggle" onclick="toggleMasterNotifications()" class="w-full py-2 px-4 rounded-lg transition-colors">Toggle Notifications</button></div></div></div></div></main><footer class="text-center p-4 text-sm text-gray-600 space-x-4" hidden><a href="about.html" class="text-blue-600 underline">About</a><a href="privacy.html" class="text-blue-600 underline">Privacy Policy</a><a href="contact.html" class="text-blue-600 underline">Contact</a></footer></div><div id="settings-saved-message" class="fixed bottom-5 left-1/2 -translate-x-1/2 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-300"></div><div id="salah-popup" class="card hidden bg-gray-800"><h2 id="salah-popup-name" class="text-3xl font-bold text-green-400"></h2><p class="text-lg mt-2">It's time for prayer.</p><button onclick="dismissSalahPopup()" class="mt-4 bg-green-500 hover:bg-green-600 text-black font-bold py-2 px-6 rounded-lg transition">Dismiss</button></div><script src="https://www.youtube.com/iframe_api" defer></script><script defer>window.ramadhanWorldApp={};document.addEventListener('DOMContentLoaded',()=>{const e=document.getElementById("chat-container"),t=document.getElementById("chat-input"),n=document.getElementById("send-button"),o=document.getElementById("mic-button"),s=document.getElementById("welcome-message");let a=[],i=!1,r=!1,l=!1,c=null,d="",u=null,p=null,m=null;const g="AIzaSyBYYSmX4H5BXpfp6VBiBMa-7iuU6Wq1Ia4",h="en-US",f="Zephyr";function y(){e&&(v(),b(),w())}function v(){n.addEventListener("click",()=>C()),t.addEventListener("keypress",e=>{e.key==="Enter"&&C()}),t.addEventListener("input",w),o.addEventListener("click",()=>{r?S():L()}),e.addEventListener("click",async t=>{const n=t.target.closest(".audio-player-button");if(n){const t=parseInt(n.dataset.messageId,10),o=a.find(e=>e.id===t);if(o)if(o.audioUrl)k(t,o.audioUrl);else{o.isGeneratingAudio=!0,M();try{const e=await F(o.text);o.audioUrl=e,o.isGeneratingAudio=!1,M(),k(t,e)}catch(e){console.error("Error generating audio on demand:",e),o.isGeneratingAudio=!1,a.push({id:Date.now(),sender:"ai",text:"Failed to generate audio for this message."}),M()}}}})}function E(){e.scrollTop=e.scrollHeight}function M(){if(!e)return;a.length>0&&s&&(s.style.display="none"),e.innerHTML=a.map(e=>{if("loading"===e.type)return`
                            <div class="message ai-message">
                                <div class="loading-dots flex items-center space-x-2">
                                    <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                                </div>
                            </div>
                        `;const t="user"===e.sender?"user-message":"ai-message";let n="";if("ai"===e.sender){const t=p===e.id;n=e.isGeneratingAudio?`
                                <div class="flex items-center text-xs mt-2" style="color: var(--text-muted);">
                                    <i class="fas fa-spinner audio-generating-spinner mr-2"></i>
                                    Preparing audio...
                                </div>`:`
                                <div class="mt-2">
                                    <button class="audio-player-button" data-message-id="${e.id}" aria-label="${t?"Pause":"Play"}">
                                        <i class="fas ${t?"fa-pause":"fa-play"}"></i>
                                    </button>
                                </div>`}const o=/[؀-ۿ]/.test(e.text)?`<span class="arabic-text">${e.text}</span>`:e.text;return`
                        <div class="message ${t}" style="display: flex; flex-direction: column;">
                            <p>${o}</p>
                            ${n}
                        </div>
                    `}).join(""),E()}function w(){if(!t||!n||!o)return;const e=!i&&!r&&""!==t.value.trim();n.disabled=!e,o.disabled=i,t.disabled=i||r,o.classList.toggle("recording",r),t.placeholder=r?"Listening...":"Type your question..."}async function C(n=null){const o=null!==n?n:t.value.trim();if(""===o)return;a.push({id:Date.now(),sender:"user",text:o}),M(),t.value="",i=!0,w(),a.push({type:"loading"}),M();try{const e=await A(o),t=Date.now()+1;a.pop(),a.push({id:t,sender:"ai",text:e,audioUrl:null,isGeneratingAudio:!1}),M()}catch(e){console.error("Error:",e),a.pop(),a.push({id:Date.now(),sender:"ai",text:"An error occurred. Please try again."}),M()}finally{i=!1,w()}}async function A(e){const t="You are a powerful and relevant Islamic AI assistant. Provide direct, short, and highly relevant answers to questions about Islam. Start with the most important information. Include a concise summary of the answer. If the answer contains Arabic text (e.g., a Dua or Quranic verse), present it with an HTML <u> tag for underlining and ensure Quranic verse numbers are styled as Arabic verse markers (e.g., ۝[number]). For Quranic references, include the Surah name, Surah number, and Ayat number (e.g., \"Quran [Surah Name] [Surah Number]:[Ayat Number]\"). For Sahih Muslim Hadith references, provide full details including the Book Name, Book Number, and Hadith Number (e.g., \"Sahih Muslim, Book [Book Number], Hadith [Hadith Number]\"). If a question is outside the scope of Islamic teachings, politely state that you cannot answer it. Respond in English.",n=[{role:"user",parts:[{text:t+"\n\n"+e}]}],o={contents:n},s=`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${g}`;for(let e=0;e<3;e++)try{const t=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),n=await t.json();if(n.candidates&&n.candidates.length>0&&n.candidates[0].content&&n.candidates[0].content.parts&&n.candidates[0].content.parts.length>0)return n.candidates[0].content.parts[0].text;console.warn("Unexpected API response structure:",n)}catch(t){console.error(`Attempt ${e+1}: Error fetching AI response:`,t),await new Promise(e=>setTimeout(e,1e3*Math.pow(2,e)))}throw new Error("Failed to get AI response after multiple retries.")}async function F(e){const t={input:{text:e},voice:{languageCode:"en-US",name:"en-US-News-M"},audioConfig:{audioEncoding:"MP3"}},n=`https://texttospeech.googleapis.com/v1/text:synthesize?key=${g}`;for(let e=0;e<3;e++)try{const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await o.json();if(s.audioContent)return URL.createObjectURL(new Blob([B(s.audioContent)],{type:"audio/mpeg"}));console.warn("Unexpected TTS API response structure:",s)}catch(t){console.error(`Attempt ${e+1}: Error generating audio:`,t),await new Promise(e=>setTimeout(e,1e3*Math.pow(2,e)))}throw new Error("Failed to generate audio after multiple retries.")}function B(e){const t=window.atob(e),n=t.length,o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=t.charCodeAt(e);return o.buffer}function k(e,t){p===e?u&&(u.pause(),u=null,p=null):(u&&u.pause(),u=new Audio(t),u.play(),p=e,u.onended=()=>{p=null,u=null,M()}),M()}function b(){const e=window.SpeechRecognition||window.webkitSpeechRecognition;e?(l=!0,(c=new e).continuous=!1,c.interimResults=!1,c.lang=h,c.onresult=e=>{const n=e.results[0][0].transcript;t.value=n,d=n},c.onend=()=>{r=!1,i=!1,w(),""!==d.trim()&&C(d.trim()),d=""},c.onerror=e=>{console.error("Speech recognition error:",e);let t="Error during speech recognition.";"not-allowed"===e.error?t="Microphone access denied. Please allow microphone access in your browser settings.":"no-speech"===e.error&&(t="No speech was detected. Please try speaking louder or clearer."),a.push({id:Date.now(),sender:"ai",text:t}),M(),r=!1,i=!1,w()}):o.style.display="none"}async function L(){if(!l||i)return;try{await navigator.mediaDevices.getUserMedia({audio:!0}),r=!0,i=!0,t.value="",w(),c.start()}catch(e){a.push({id:Date.now(),sender:"ai",text:"Microphone access denied. Please allow microphone access in your browser settings."}),M()}}function S(){c&&r&&c.stop()}window.ramadhanWorldApp.stopAskIslamAudio=()=>{u&&(u.pause(),u=null,p=null,M())},window.ramadhanWorldApp.stopAskIslamRecording=()=>{c&&r&&S()},y()})</script><script defer>const loadingScreen=document.getElementById("loading-screen"),mainContent=document.getElementById("main-content"),islamicDateEl=document.getElementById("islamic-date"),locationEl=document.getElementById("location"),nextPrayerNameEl=document.getElementById("next-prayer-name"),countdownTimerEl=document.getElementById("countdown-timer"),countdownSectionCard=document.querySelector("#countdown-section .card"),celestialVisualizationEl=document.getElementById("celestial-visualization"),salahPrayerTimeElements={Fajr:document.querySelector("#salah-fajr span:last-child"),Sunrise:document.querySelector("#salah-sunrise span:last-child"),Dhuhr:document.querySelector("#salah-dhuhr span:last-child"),Asr:document.querySelector("#salah-asr span:last-child"),Maghrib:document.querySelector("#salah-maghrib span:last-child"),Isha:document.querySelector("#salah-isha span:last-child")},views={home:document.getElementById("home-view"),qibla:document.getElementById("qibla-view"),listenQuran:document.getElementById("listen-quran-view"),radio:document.getElementById("radio-view"),salah:document.getElementById("salah-view"),tasbeeh:document.getElementById("tasbeeh-view"),naat:document.getElementById("naat-view"),calendar:document.getElementById("calendar-view"),settings:document.getElementById("settings-view"),hadith:document.getElementById("hadith-view"),askIslam:document.getElementById("ask-islam-view")},qiblaDirectionEl=document.getElementById("qibla-direction"),compass=document.getElementById("compass"),qiblaLine=document.getElementById("qibla-line"),quranSurahList=document.getElementById("quran-surah-list"),quranAudioPlayer=document.getElementById("quran-audio-player"),currentSurahName=document.getElementById("current-surah-name"),homeRadioAudioPlayer=document.getElementById("home-radio-audio-player"),settingsSavedMessage=document.getElementById("settings-saved-message"),tvPlayButton=document.getElementById("tv-play-button"),tvPauseButton=document.getElementById("tv-pause-button"),tasbeehCounterDisplay=document.getElementById("tasbeeh-counter-display"),hadithContentHome=document.getElementById("hadith-content-home"),dailyIslamicMessageEl=document.getElementById("daily-islamic-message"),dailyIslamicMessageRefEl=document.getElementById("daily-islamic-message-ref"),settingsNotificationToggle=document.getElementById("settings-notification-toggle"),calculationMethodSelect=document.getElementById("calculation-method-select"),salahPopup=document.getElementById("salah-popup"),salahPopupName=document.getElementById("salah-popup-name"),weatherTempEl=document.getElementById("weather-temp"),weatherCityEl=document.getElementById("weather-city"),weatherEmojiEl=document.getElementById("weather-emoji"),tickerContentEl=document.getElementById("ticker-content"),scrollerContentEl=document.getElementById("scroller-content");let tasbeehCount=0,countdownInterval,qiblaAngle=0,notificationsEnabled=!0,calculationMethod=2,youtubePlayer,quranChapters=[],currentSurahIndex=-1,currentPlayingSurahElement=null,userCoords=null,audioUnlocked=!1,prayerTimesToday=null;const NOTIFICATION_STATUS_KEY="ramadanAppNotificationStatus",CALC_METHOD_KEY="ramadanAppCalcMethod",radioStations=[{name:"Ramadhan World",url:"https://ramadhan786.radioca.st/;"}],islamicEvents=[{date:"27 Rajab",name:"Isra and Mi'raj",gregorianDates:{2025:"Monday, January 27",2026:"Friday, January 16"},description:"The Prophet's ﷺ miraculous night journey."},{date:"15 Sha’ban",name:"Laylat al-Bara'at",gregorianDates:{2025:"Friday, February 14",2026:"Wednesday, February 4"},description:"The night of forgiveness."},{date:"1 Ramadan",name:"Start of Ramadan",gregorianDates:{2025:"Saturday, March 1",2026:"Thursday, February 19"},description:"The beginning of the holy month of fasting."},{date:"27 Ramadan",name:"Laylat al-Qadr",gregorianDates:{2025:"Thursday, March 27",2026:"Tuesday, March 17"},description:"The Night of Power, better than a thousand months."},{date:"1 Shawwal",name:"Eid al-Fitr",gregorianDates:{2025:"Sunday, March 30",2026:"Friday, March 20"},description:"The festival of breaking the fast."},{date:"10 Dhul Hijjah",name:"Eid al-Adha",gregorianDates:{2025:"Friday, June 6",2026:"Wednesday, May 27"},description:"The festival of sacrifice."},{date:"1 Muharram",name:"Islamic New Year",gregorianDates:{2025:"Friday, June 27",2026:"Wednesday, May 17"},description:"The start of the Islamic lunar calendar."},{date:"10 Muharram",name:"Day of Ashura",gregorianDates:{2025:"Sunday, July 6",2026:"Friday, May 26"},description:"A day of fasting and remembrance."},{date:"12 Rabi al-Awwal",name:"Mawlid an-Nabi",gregorianDates:{2025:"Friday, September 5",2026:"Tuesday, August 25"},description:"The birthday of Prophet Muhammad ﷺ."}],curatedHadiths=[{text:"The Prophet (ﷺ) said, 'The best among you are those who have the best manners and character.'",book:"Sahih al-Bukhari",number:"3559"},{text:"The Prophet (ﷺ) said, 'A Muslim is a brother of another Muslim... Whoever fulfilled the needs of his brother, Allah will fulfill his needs.'",book:"Sahih al-Bukhari",number:"2442"},{text:"The Prophet (ﷺ) said, 'None of you will have faith till he wishes for his (Muslim) brother what he likes for himself.'",book:"Sahih al-Bukhari",number:"13"}],curatedQuranMessages=[{text:"Indeed, in the remembrance of Allah do hearts find rest.",reference:"Surah Ar-Ra'd (13:28)"},{text:"And He is with you wherever you are.",reference:"Surah Al-Hadid (57:4)"},{text:"So verily, with the hardship, there is relief. Verily, with the hardship, there is relief.",reference:"Surah Ash-Sharh (94:5-6)"},{text:"And speak to people good [words].",reference:"Surah Al-Baqarah (2:83)"},{text:"And seek help through patience and prayer.",reference:"Surah Al-Baqarah (2:45)"}],asmaUlHusna=[{arabic:"ٱلْرَّحْمَـٰنُ",english:"The Beneficent"},{arabic:"ٱلْرَّحِيْمُ",english:"The Merciful"},{arabic:"ٱلْمَلِكُ",english:"The King"},{arabic:"ٱلْقُdُّوسُ",english:"The Most Holy"},{arabic:"ٱلْسَّلَامُ",english:"The Source of Peace"},{arabic:"ٱلْمُؤْمِنُ",english:"The Guardian of Faith"},{arabic:"ٱلْمُهَيْمِنُ",english:"The Protector"},{arabic:"ٱلْعَزِيْزُ",english:"The Almighty"},{arabic:"ٱلْجَبَّارُ",english:"The Compeller"},{arabic:"ٱلْمُتَكَبِّرُ",english:"The Majestic"},{arabic:"ٱلْخَالِקُ",english:"The Creator"},{arabic:"ٱلْبَارِئُ",english:"The Evolver"},{arabic:"ٱلْمُصَوِّرُ",english:"The Fashioner"},{arabic:"ٱلْغَفَّارُ",english:"The Great Forgiver"},{arabic:"ٱلْقَهَّارُ",english:"The All-Prevailing One"},{arabic:"ٱلْوَهَّابُ",english:"The Supreme Bestower"},{arabic:"ٱلْرَّزَّاقُ",english:"The Provider"},{arabic:"ٱلْفَتَّاحُ",english:"The Supreme Opener"},{arabic:"ٱلْعَلِيْمُ",english:"The All-Knowing"},{arabic:"ٱلْقَابِضُ",english:"The Withholder"},{arabic:"ٱلْبَاسِطُ",english:"The Extender"},{arabic:"ٱلْخَافِضُ",english:"The Humbler"},{arabic:"ٱلْرَّافِعُ",english:"The Exalter"},{arabic:"ٱلْمُعِزُّ",english:"The Giver of Honour"},{arabic:"ٱلْمُذِلُّ",english:"The Giver of Dishonour"},{arabic:"ٱلْسَّمِيْعُ",english:"The All-Hearing"},{arabic:"ٱلْبَصِيْرُ",english:"The All-Seeing"},{arabic:"ٱلْحَكَمُ",english:"The Judge"},{arabic:"ٱلْعَدْلُ",english:"The Utterly Just"},{arabic:"ٱلْلَّطِيْفُ",english:"The Subtle One"},{arabic:"ٱلْخَبِيْرُ",english:"The All-Aware"},{arabic:"ٱلْحَلِيْمُ",english:"The Forbearing One"},{arabic:"ٱلْعَظِيْمُ",english:"The Magnificent"},{arabic:"ٱلْغَفُوْرُ",english:"The All-Forgiving"},{arabic:"ٱلْشَّكُوْرُ",english:"The Grateful"},{arabic:"ٱlْعَلِيُّ",english:"The Sublime"},{arabic:"ٱلْكَبِيْرُ",english:"The Great"},{arabic:"ٱلْحَفِيْظُ",english:"The Preserver"},{arabic:"ٱلْمُقِيْتُ",english:"The Sustainer"},{arabic:"ٱلْحَسِيْبُ",english:"The Reckoner"},{arabic:"ٱلْجَلِيْلُ",english:"The Majestic"},{arabic:"ٱلْكَرِيْمُ",english:"The Bountiful"},{arabic:"ٱلْرَّقِيْبُ",english:"The Watchful"},{arabic:"ٱلْمُجِيْبُ",english:"The Responsive"},{arabic:"ٱلْوَاسِعُ",english:"The All-Encompassing"},{arabic:"ٱلْحَكِيْمُ",english:"The Wise"},{arabic:"ٱلْوَدُوْدُ",english:"The Loving"},{arabic:"ٱلْمَجِيْدُ",english:"The Glorious"},{arabic:"ٱلْبَاعِثُ",english:"The Resurrector"},{arabic:"ٱلْشَّهِيْدُ",english:"The Witness"},{arabic:"ٱلْحَقُّ",english:"The Truth"},{arabic:"ٱلْوَكِيْلُ",english:"The Trustee"},{arabic:"ٱلْقَوِيُّ",english:"The Strong"},{arabic:"ٱلْمَتِيْنُ",english:"The Firm"},{arabic:"ٱلْوَلِيُّ",english:"The Protecting Friend"},{arabic:"ٱلْحَمِيْدُ",english:"The Praiseworthy"},{arabic:"ٱلْمُحْصِيْ",english:"The Accounter"},{arabic:"ٱلْمُبْدِئُ",english:"The Originator"},{arabic:"ٱلْمُعِيْدُ",english:"The Restorer"},{arabic:"ٱلْمُحْيِيْ",english:"The Giver of Life"},{arabic:"ٱلْمُمِيْتُ",english:"The Taker of Life"},{arabic:"ٱلْحَيُّ",english:"The Ever-Living"},{arabic:"ٱلْقَيُّوْمُ",english:"The Self-Existing"},{arabic:"ٱلْوَاجِدُ",english:"The Perceiver"},{arabic:"ٱلْمَاجِدُ",english:"The Illustrious"},{arabic:"ٱلْوَاحِدُ",english:"The One"},{arabic:"ٱلْأَحَدُ",english:"The Unique"},{arabic:"ٱلْصَّمَدُ",english:"The Eternal"},{arabic:"ٱلْقَادِرُ",english:"The Able"},{arabic:"ٱلْمُقْتَدِرُ",english:"The All-Determining"},{arabic:"ٱلْمُقَدِّمُ",english:"The Expediter"},{arabic:"ٱلْمُؤَخِّرُ",english:"The Delayer"},{arabic:"ٱلْأَوَّلُ",english:"The First"},{arabic:"ٱلْآخِرُ",english:"The Last"},{arabic:"ٱلْظَّاهِرُ",english:"The Manifest"},{arabic:"ٱلْبَاطِنُ",english:"The Hidden"},{arabic:"ٱلْوَالِي",english:"The Governor"},{arabic:"ٱلْمُتَعَالِي",english:"The Most Exalted"},{arabic:"ٱلْبَرُّ",english:"The Source of All Goodness"},{arabic:"ٱلْتَّوَّابُ",english:"The Acceptor of Repentance"},{arabic:"ٱلْمُنْتَقِمُ",english:"The Avenger"},{arabic:"ٱلْعَفُوُّ",english:"The Pardoner"},{arabic:"ٱلْرَّؤُوْفُ",english:"The Kind"},{arabic:"مَالِكُ ٱلْمُلْكِ",english:"The Owner of All Sovereignty"},{arabic:"ذُو ٱلْجَلَالِ وَٱلْإِكْرَامِ",english:"The Lord of Majesty and Honour"},{arabic:"ٱلْمُقْسِطُ",english:"The Equitable"},{arabic:"ٱلْجَامِعُ",english:"The Gatherer"},{arabic:"ٱلْغَنِيُّ",english:"The Self-Sufficient"},{arabic:"ٱلْمُغْنِيُّ",english:"The Enricher"},{arabic:"ٱلْمَانِعُ",english:"The Preventer"},{arabic:"ٱلْضَّارُّ",english:"The Distresser"},{arabic:"ٱلْنَّافِعُ",english:"The Propitious"},{arabic:"ٱلْنُّوْرُ",english:"The Light"},{arabic:"ٱلْهَادِيْ",english:"The Guide"},{arabic:"ٱلْبَدِيْعُ",english:"The Incomparable"},{arabic:"ٱلْبَاقِيْ",english:"The Everlasting"},{arabic:"ٱلْوَارِثُ",english:"The Supreme Inheritor"},{arabic:"ٱلْرَّشِيْدُ",english:"The Guide to the Right Path"},{arabic:"ٱلْصَّبُوْرُ",english:"The Patient"}];function initializeAppFast(){hideLoading(),document.body.addEventListener("click",unlockAllAudio,{once:!0}),loadAllSettings(),populateEventCalendar(),displayDailyMessage(),setupRadioPlayer(),initializeAnimations(),initializeTicker(),fetchAndDisplayScrollableContent(),displayDailyHadith(),setInterval(displayDailyHadith,36e5),setInterval(displayDailyMessage,18e5),async function(){await getUserLocation(),await populateQuranList()}(),quranAudioPlayer.addEventListener("ended",playNextSurah),calculationMethodSelect.addEventListener("change",e=>{calculationMethod=e.target.value,saveSettings(CALC_METHOD_KEY,calculationMethod),showTemporaryMessage("Settings saved. Refreshing times..."),getUserLocation()})}function unlockAllAudio(){if(audioUnlocked)return;[homeRadioAudioPlayer].forEach(e=>{e.muted=!0;const t=e.play();void 0!==t&&t.then(()=>{e.pause(),e.currentTime=0,e.muted=!1}).catch(()=>{})}),audioUnlocked=!0}function displayDailyMessage(){const e=Math.floor(Math.random()*curatedQuranMessages.length),t=curatedQuranMessages[e];dailyIslamicMessageEl.textContent=`"${t.text}"`,dailyIslamicMessageRefEl.textContent=`— ${t.reference}`}async function displayDailyHadith(){try{const e=await fetch("https://hadithapi.com/api/bukhari/random/en");if(!e.ok)throw new Error("API response not OK");const t=await e.json(),n=t.hadith&&t.hadith.length>0?t.hadith[0]:t;if(!n||!n.hadithEnglish||!n.chapterNo||!n.hadithNo)throw new Error("Invalid Hadith data format");hadithContentHome.innerHTML=`
                        <div class="hadith-box">
                            <h2 class="section-title mb-4">📖 Hadith for Today</h2>
                            <p class="font-amiri text-center text-xl">"${n.hadithEnglish}"</p>
                            <p class="text-center text-base text-green-300 mt-4">
                                Reference: Sahih al-Bukhari, Chapter ${n.chapterNo}, Hadith ${n.hadithNo}
                            </p>
                        </div>`}catch(e){console.error("Error fetching Hadith:",e)}}function populateEventCalendar(){const e=document.querySelector("#calendar-view #islamic-calendar-grid"),t=(new Date).getFullYear(),n=new Date;n.setHours(0,0,0,0);const o=e=>islamicEvents.map(t=>{const n=t.gregorianDates[e];if(!n)return null;const o=new Date(`${n}, ${e}`);return{...t,dateObj:o,displayDate:n,displayYear:e}}).filter(Boolean);let a=[...o(t),...o(t+1)];let i=a.filter(e=>e.dateObj>=n).sort((e,t)=>e.dateObj-t.dateObj);e&&(e.innerHTML=i.length>0?i.map(e=>`
                        <div class="calendar-item" style="transition: transform 0.2s ease, box-shadow 0.2s ease; display: flex; flex-direction: column;">
                            <div class="calendar-date">${e.date}</div>
                            <h3 class="calendar-event-name">${e.name}</h3>
                            <p class="calendar-event-desc">${e.description}</p>
                            <div class="gregorian-date">
                                <strong>Expected Gregorian Date (${e.displayYear}):</strong><br>${e.displayDate}
                            </div>
                        </div>
                    `).join(""):`<p class="text-center col-span-full text-gray-400">No major Islamic events scheduled for the near future.</p>`)}function calculateQiblaDirection(e,t){const n=21.4225,o=39.8262,a=(o-t)*Math.PI/180,i=e*Math.PI/180,r=n*Math.PI/180,l=Math.sin(a)*Math.cos(r),s=Math.cos(i)*Math.sin(r)-Math.sin(i)*Math.cos(r)*Math.cos(a);return 180*Math.atan2(l,s)/Math.PI+360%360}function getWeatherEmoji(e,t){const n=Number(e);return 0===n?t?"☀️":"🌙":1===n?t?"🌤️":"☁️":2===n?"🌥️":3===n?"☁️":n>=45&&n<=48?"🌫️":n>=51&&n<=55?"💧":n>=56&&n<=57?"🥶":n>=61&&n<=65?"🌧️":n>=66&&n<=67?"🌨️":n>=71&&n<=75?"❄️":77===n?"🌨️":n>=80&&n<=82?"🌦️":n>=85&&n<=86?"❄️":n>=95&&n<=99?"⛈️":"❔"}async function getWeather(e,t){try{const n=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${t}&current_weather=true`),o=await n.json();weatherTempEl.textContent=`${Math.round(o.current_weather.temperature)}°C`,weatherEmojiEl.textContent=getWeatherEmoji(o.current_weather.weathercode,o.current_weather.is_day)}catch(e){console.error("Error fetching weather:",e),weatherTempEl.textContent="Weather N/A",weatherEmojiEl.textContent="❔"}}function getUserLocation(){return new Promise(e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async t=>{userCoords={latitude:t.coords.latitude,longitude:t.coords.longitude},qiblaAngle=calculateQiblaDirection(userCoords.latitude,userCoords.longitude);try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${userCoords.latitude}&lon=${userCoords.longitude}`),o=await n.json(),a=o.address.city||o.address.town||"Unknown",i=o.address.country||"Country";locationEl.textContent=`${a}, ${i}`,weatherCityEl.textContent=a,prayerTimesToday=await getPrayerTimes(a,i),prayerTimesToday&&updateCountdown(prayerTimesToday),getWeather(userCoords.latitude,userCoords.longitude)}catch(t){prayerTimesToday=await getPrayerTimes("Karachi","Pakistan"),prayerTimesToday&&updateCountdown(prayerTimesToday)}e()},async()=>{locationEl.textContent="Location denied. Using default times for Karachi.",weatherCityEl.textContent="Karachi",prayerTimesToday=await getPrayerTimes("Karachi","Pakistan"),prayerTimesToday&&updateCountdown(prayerTimesToday),getWeather(24.8607,67.0011),e()}):getPrayerTimes("Karachi","Pakistan").then(e=>{prayerTimesToday=e,prayerTimesToday&&updateCountdown(prayerTimesToday)}),getWeather(24.8607,67.0011),e()})}async function getPrayerTimes(e,t){try{const n=new Date,o=`${n.getDate()}-${n.getMonth()+1}-${n.getFullYear()}`,a=`https://api.aladhan.com/v1/timingsByCity/${o}?city=${e}&country=${t}&method=${calculationMethod}`,i=await fetch(a),r=await i.json();return 200===r.code?(displayPrayerTimes(r.data),r.data.timings):null}catch(e){return console.error("Error fetching prayer times:",e),null}}function subtractMinutes(e,t){const[n,o]=e.split(":").map(Number),a=new Date;return a.setHours(n,o,0,0),a.setMinutes(a.getMinutes()-t),`${padZero(a.getHours())}:${padZero(a.getMinutes())}`}function displayPrayerTimes(e){const{timings:t,date:n}=e;islamicDateEl.textContent=`${n.hijri.weekday.en}, ${n.hijri.day} ${n.hijri.month.en} ${n.hijri.year}`,Object.keys(salahPrayerTimeElements).forEach(e=>{salahPrayerTimeElements[e]&&t[e]&&(salahPrayerTimeElements[e].textContent=formatTime(t[e]))});const o=subtractMinutes(t.Fajr,10),a=t.Maghrib;document.querySelector("#salah-sehri span:last-child").textContent=formatTime(o),document.querySelector("#salah-iftar span:last-child").textContent=formatTime(a)}function updateCountdown(e){countdownInterval&&clearInterval(countdownInterval);let t={};countdownInterval=setInterval(()=>{const n=new Date;let o=findNextPrayer(n,e);let a;if(o)a=new Date(`${n.toDateString()} ${o.time}`);else{o={name:"Fajr",time:e.Fajr};const t=new Date;t.setDate(t.getDate()+1),a=new Date(`${t.toDateString()} ${o.time}`),23===n.getHours()&&59===n.getMinutes()&&(t={})}nextPrayerNameEl.textContent=o.name,updateCountdownBackground(e);const i=a.getTime()-n.getTime();if(i>0){const n=Math.floor(i/36e5),a=Math.floor(i%36e5/6e4),r=Math.floor(i%6e4/1e3);countdownTimerEl.textContent=`${padZero(n)}:${padZero(a)}:${padZero(r)}`,i<=1e3&&!t[o.name]&&(triggerPrayerNotification(o.name),t[o.name]=!0)}else updateCountdown(e)},1e3)}function findNextPrayer(e,t){for(const n of["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"])if(t[n]){const o=new Date(`${e.toDateString()} ${t[n]}`);if(o>e)return{name:n,time:t[n]}}return null}function showView(e){var t;"listenQuran"!==e&&quranAudioPlayer.pause(),"radio"!==e&&homeRadioAudioPlayer.pause(),"naat"!==e&&youtubePlayer&&"function"==typeof youtubePlayer.pauseVideo&&youtubePlayer.pauseVideo(),"askIslam"!==e&&window.ramadhanWorldApp&&("function"==typeof window.ramadhanWorldApp.stopAskIslamAudio&&window.ramadhanWorldApp.stopAskIslamAudio(),"function"==typeof window.ramadhanWorldApp.stopAskIslamRecording&&window.ramadhanWorldApp.stopAskIslamRecording()),Object.values(views).forEach(e=>e.classList.add("hidden")),views[e]&&views[e].classList.remove("hidden"),document.querySelectorAll(".nav-button").forEach(e=>e.classList.remove("active")),null===(t=document.querySelector(`.nav-button[onclick="showView('${e}')"]`))||void 0===t||t.classList.add("active"),"qibla"===e?startCompass():stopCompass()}function hideLoading(){loadingScreen.style.opacity="0",setTimeout(()=>{loadingScreen.style.display="none",mainContent.style.opacity=1},300)}function startCompass(){"undefined"!=typeof DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(e=>{"granted"===e&&window.addEventListener("deviceorientation",handleOrientation)}).catch(console.error):window.addEventListener("deviceorientation",handleOrientation)}function stopCompass(){window.removeEventListener("deviceorientation",handleOrientation)}function handleOrientation(e){let t=e.webkitCompassHeading||e.alpha;null!==t&&compass&&qiblaLine&&(compass.style.transform=`rotate(${-t}deg)`,qiblaLine.style.transform=`translateX(-50%) rotate(${qiblaAngle}deg)`)}async function populateQuranList(){try{const e=await fetch("https://api.quran.com/api/v4/chapters");quranChapters=(await e.json()).chapters,quranSurahList.innerHTML=quranChapters.map((e,t)=>`
                    <div id="surah-item-${e.id}" class="quran-surah flex justify-between items-center" onclick="toggleSurahPlay(${e.id}, ${t})">
                        <div>
                            <p class="surah-name font-semibold">${e.id}. ${e.name_simple}</p>
                            <p class="text-sm text-gray-400">${e.translated_name.name}</p>
                        </div>
                        <i id="icon-${e.id}" class="fas fa-play play-pause-icon"></i>
                    </div>`).join("")}catch(e){console.error("Error fetching Surahs:",e)}}async function toggleSurahPlay(e,t){const n=document.getElementById(`surah-item-${e}`);if(currentPlayingSurahElement&&currentPlayingSurahElement!==n&&quranAudioPlayer.pause(),n.classList.contains("playing")&&!quranAudioPlayer.paused)quranAudioPlayer.pause();else if(quranAudioPlayer.volume=1,currentSurahIndex===t)quranAudioPlayer.play();else try{const n=await fetch(`https://api.quran.com/api/v4/chapter_recitations/7/${e}`),o=await n.json();quranAudioPlayer.src=o.audio_file.audio_url,currentSurahIndex=t,quranAudioPlayer.play()}catch(e){console.error("Error fetching Surah audio:",e)}}quranAudioPlayer.onplay=()=>{if(currentPlayingSurahElement){currentPlayingSurahElement.classList.remove("playing");let e=currentPlayingSurahElement.id.split("-")[2];document.getElementById(`icon-${e}`).classList.replace("fa-pause","fa-play")}const e=quranChapters[currentSurahIndex];currentPlayingSurahElement=document.getElementById(`surah-item-${e.id}`),currentPlayingSurahElement.classList.add("playing"),document.getElementById(`icon-${e.id}`).classList.replace("fa-play","fa-pause"),currentSurahName.textContent=`${e.name_simple} (${e.translated_name.name})`},quranAudioPlayer.onpause=()=>{if(currentPlayingSurahElement){let e=currentPlayingSurahElement.id.split("-")[2];currentPlayingSurahElement.classList.remove("playing"),document.getElementById(`icon-${e}`).classList.replace("fa-pause","fa-play")}};function playNextSurah(){currentSurahIndex!==-1&&currentSurahIndex<quranChapters.length-1&&toggleSurahPlay(quranChapters[currentSurahIndex+1].id,currentSurahIndex+1)}function incrementTasbeeh(){tasbeehCounterDisplay.textContent=++tasbeehCount,saveSettings("ramadanTasbeeh",tasbeehCount),tasbeehCounterDisplay.style.transform="scale(1.2)",setTimeout(()=>{tasbeehCounterDisplay.style.transform="scale(1)"},100)}function resetTasbeeh(){tasbeehCounterDisplay.textContent=tasbeehCount=0,saveSettings("ramadanTasbeeh",tasbeehCount)}function setupRadioPlayer(){homeRadioAudioPlayer.src=radioStations[0].url,homeRadioAudioPlayer.addEventListener("play",()=>{homeRadioAudioPlayer.volume=1})}function onYouTubeIframeAPIReady(){youtubePlayer=new YT.Player("youtube-player",{height:"480",width:"854",playerVars:{playsinline:1,listType:"playlist",list:"PL6b_3Yr67_wFpDJfaZLlMEUP6h5EroJi2",controls:0,rel:0},events:{onStateChange:onPlayerStateChange}})}function onPlayerStateChange(e){tvPlayButton.classList.toggle("hidden",e.data===YT.PlayerState.PLAYING),tvPauseButton.classList.toggle("hidden",e.data!==YT.PlayerState.PLAYING)}function playVideo(){youtubePlayer.playVideo()}function pauseVideo(){youtubePlayer.pauseVideo()}function nextVideo(){youtubePlayer.nextVideo()}function previousVideo(){youtubePlayer.previousVideo()}function loadAllSettings(){notificationsEnabled="false"!==localStorage.getItem(NOTIFICATION_STATUS_KEY),calculationMethod=localStorage.getItem(CALC_METHOD_KEY)||2,tasbeehCount=localStorage.getItem("ramadanTasbeeh")||0,tasbeehCounterDisplay.textContent=tasbeehCount,calculationMethodSelect.value=calculationMethod,updateSettingsNotificationUI()}function saveSettings(e,t){localStorage.setItem(e,t)}function updateSettingsNotificationUI(){notificationsEnabled?(settingsNotificationToggle.textContent="Notifications are ON (Click to Disable)",settingsNotificationToggle.classList.remove("bg-red-600","hover:bg-red-700"),settingsNotificationToggle.classList.add("bg-green-600","hover:bg-green-700")):(settingsNotificationToggle.textContent="Notifications are OFF (Click to Enable)",settingsNotificationToggle.classList.remove("bg-green-600","hover:bg-green-700"),settingsNotificationToggle.classList.add("bg-red-600","hover:bg-red-700"))}function toggleMasterNotifications(){"denied"===Notification.permission?showTemporaryMessage("Notifications are blocked by your browser.",!0):"default"===Notification.permission?Notification.requestPermission().then(e=>{"granted"===e&&(notificationsEnabled=!notificationsEnabled,saveSettings(NOTIFICATION_STATUS_KEY,notificationsEnabled),updateSettingsNotificationUI(),showTemporaryMessage(`Notifications ${notificationsEnabled?"Enabled":"Disabled"}`))}):(notificationsEnabled=!notificationsEnabled,saveSettings(NOTIFICATION_STATUS_KEY,notificationsEnabled),updateSettingsNotificationUI(),showTemporaryMessage(`Notifications ${notificationsEnabled?"Enabled":"Disabled"}`))}function triggerPrayerNotification(e){if(notificationsEnabled){salahPopupName.textContent=e,salahPopup.classList.remove("hidden"),salahPopup.style.opacity=1,salahPopup.style.transform="translate(-50%, -50%) scale(1)"}}function dismissSalahPopup(){salahPopup.style.opacity=0,salahPopup.style.transform="translate(-50%, -50%) scale(0.8)",setTimeout(()=>{salahPopup.classList.add("hidden")},300)}function showTemporaryMessage(e,t=!1){settingsSavedMessage.textContent=e,settingsSavedMessage.style.backgroundColor=t?"#ef4444":"#10B981",settingsSavedMessage.classList.add("opacity-100"),setTimeout(()=>{settingsSavedMessage.classList.remove("opacity-100")},4e3)}function formatTime(e){if(!e)return"--:--";const[t,n]=e.split(":"),o=parseInt(t,10),a=o>=12?"PM":"AM";return`${padZero(o%12||12)}:${n} ${a}`}function padZero(e){return e<10?"0"+String(e):String(e)}function lerpColor(e,t,n){const o=parseInt(e.substring(1),16),a=parseInt(t.substring(1),16),i=o>>16,r=o>>8&255,l=255&o,s=a>>16,c=a>>8&255,d=255&a,u=Math.round(i+n*(s-i)),p=Math.round(r+n*(c-r)),m=Math.round(l+n*(d-l));return`#${(16777216|u<<16|p<<8|m).toString(16).slice(1).padStart(6,"0")}`}function createCelestialBody(e,t,n,o){const a=document.createElement("div");a.id=e,a.style.position="absolute",a.style.zIndex="2",a.style.left=`calc(${n}% - 25px)`,a.style.top=`calc(${o}% - 25px)`,t.appendChild(a)}function createStarsAndPlanets(e,t){for(let n=0;n<30;n++){const t=document.createElement("div");t.className="star",t.style.width=`${2*Math.random()+1}px`,t.style.height=t.style.width,t.style.top=`${90*Math.random()}%`,t.style.left=`${100*Math.random()}%`,t.style.animationDelay=`${5*Math.random()}s`,e.appendChild(t)}[{color:"rgba(255, 180, 120, 0.6)",size:"3px",speed:.95},{color:"rgba(180, 210, 255, 0.7)",size:"2px",speed:.9}].forEach(n=>{const o=document.createElement("div");o.className="planet",o.style.width=n.size,o.style.height=n.size,o.style.backgroundColor=n.color,o.style.top=`${80*Math.random()+10}%`,o.style.left=`calc(${100*t*n.speed}% - ${parseInt(n.size)/2}px)`,e.appendChild(o)})}function updateCountdownBackground(e){if(!e||!celestialVisualizationEl)return;const t=new Date,n=new Date(`${t.toDateString()} ${e.Fajr}`),o=new Date(`${t.toDateString()} ${e.Sunrise}`),a=new Date(`${t.toDateString()} ${e.Maghrib}`),i=new Date(`${t.toDateString()} ${e.Isha}`);celestialVisualizationEl.innerHTML="";let r,l,s,c=50,d,u;const p={night:["#0a192f","#113a3b"],sunrise:["#4a6e8a","#f28c38"],day:["#87ceeb","#f0e68c"],sunset:["#1f2937","#ff5f6d","#ffc371"]};if(t>o&&t<a)r=(t-o)/(a-o),l=`linear-gradient(to bottom, ${p.day[0]}, ${p.day[1]})`,d="sun",s=100*r;else{t>=i?u=(t-i)/(new Date(n.getTime()+864e5)-i):u=(t-new Date(i.getTime()-864e5))/(n-new Date(i.getTime()-864e5)),l=`linear-gradient(to bottom, ${p.night[0]}, ${p.night[1]})`,d="moon",s=100*u,createStarsAndPlanets(celestialVisualizationEl,u)}t>n&&t<o&&(r=(t-n)/(o-n),l=`linear-gradient(to bottom, ${lerpColor(p.night[0],p.sunrise[0],r)}, ${lerpColor(p.night[1],p.sunrise[1],r)})`,d="sun",s=100*r),t>a&&t<i&&(r=(t-a)/(i-a),l=`linear-gradient(to bottom, ${lerpColor(p.day[0],p.sunset[0],r)}, ${lerpColor(p.day[1],p.sunset[1],r)})`,d="sun",s=100*(t-o)/(a-o)),countdownSectionCard.style.background=l,createCelestialBody(d,celestialVisualizationEl,s,c)}function updateClouds(e,t){}function initializeTicker(){const e=asmaUlHusna.map(e=>`<div class="ticker-item"><div class="arabic-name">${e.arabic}</div><div class="english-translation">${e.english}</div></div>`).join("");tickerContentEl.innerHTML=e+e}function shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function fetchAndDisplayScrollableContent(){const e=[{text:"Actions are but by intentions, and every man shall have only that which he intended.",reference:"Sahih al-Bukhari 1"},{text:"He who believes in Allah and the Last Day, let him speak good or else keep silent.",reference:"Sahih Muslim 47a"},{text:"The strong man is not the one who is good at wrestling, but the strong man is the one who controls himself in a fit of rage.",reference:"Sahih al-Bukhari 6114"},{text:"The most beloved of deeds to Allah are the most consistent of them, even if they are few.",reference:"Sahih al-Bukhari 6464"},{text:"Do not belittle any good deed, even meeting your brother with a cheerful face.",reference:"Sahih Muslim 2626"},{text:"Wealth is not in having many possessions. Rather, true wealth is the richness of the soul.",reference:"Sahih Muslim 1051"}],t=shuffleArray(e).map(e=>`<div class="scroll-item"><h3>Hadith</h3><p>"${e.text}"</p><p style="text-align: center; color: #a7f3d0; font-style: italic; margin-top: 0.5rem;">- ${e.reference}</p></div>`).join("");scrollerContentEl.innerHTML=t+t}function initializeAnimations(){const e=document.getElementById("ticker-content"),t=document.getElementById("scroller-content"),n=1200,o=-1*n*(parseFloat(localStorage.getItem("tickerScrollPercentage"))||0);e.style.animation=`ticker-scroll ${n}s linear ${o}s infinite`;const a=300,i=-1*a*(parseFloat(localStorage.getItem("scrollerScrollPercentage"))||0);t.style.animation=`v-scroll ${a}s linear ${i}s infinite`,window.addEventListener("beforeunload",()=>{try{const t=new DOMMatrix(window.getComputedStyle(e).transform).m41,n=e.scrollWidth/2;n>0&&localStorage.setItem("tickerScrollPercentage",Math.abs(t)/n%1)}catch(e){console.error("Could not save ticker state:",e)}try{const e=new DOMMatrix(window.getComputedStyle(t).transform).m42,n=t.scrollHeight/2;n>0&&localStorage.setItem("scrollerScrollPercentage",Math.abs(e)/n%1)}catch(e){console.error("Could not save scroller state:",e)}})}document.addEventListener("DOMContentLoaded",initializeAppFast);</script></body>
</html>